@using System.Globalization
@using Markdig
@using sparreio.website.ViewModels.Home

@model PostViewModel
@{
    var pipeline = new MarkdownPipelineBuilder()
        .UseAdvancedExtensions()
        .UseCustomContainers()
        .Build();

    var renderedContent = Markdown.ToHtml(Model.Content, pipeline);
}
<div class="post-header">
    <h1>@Model.Title</h1>
    <div class="post-date">@Model.PublishedUtc.ToLocalTime().ToString("D", new CultureInfo("en-us"))</div>
</div>
<div class="post-content">
    @Html.Raw(renderedContent)
</div>
<div class="post-footer">
    <section class="post-categories">
        @foreach (var cat in Model.Categories)
        {
            <a asp-action="PostsByCategory" asp-route-category="@cat">@cat</a>
        }
    </section>
</div>