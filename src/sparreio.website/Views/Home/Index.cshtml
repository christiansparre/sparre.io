@using System.Globalization
@using Markdig
@using sparreio.website.Utils
@using sparreio.website.ViewModels.Home
@model IndexViewModel
@{
   
}
@foreach (var p in Model.Posts)
{
    var renderedContent = Markdown.ToHtml(p.Exerpt);

    <div class="post-header">
        <h1><a asp-action="Post" asp-controller="Home" asp-route-id="@p.Id" asp-route-slug="@Slugify.GenerateSlug(p.Title)">@p.Title</a></h1>
        <div class="post-date">@p.PublishedUtc.ToLocalTime().ToString("D", new CultureInfo("en-us"))</div>
    </div>
    <div class="post-content">
        @Html.Raw(renderedContent)
    </div>
    <div class="post-footer">
        <section class="post-tags">
            @foreach (var tag in p.Tags)
            {
                <a asp-action="PostsByTag" asp-route-tag="@tag">@tag</a>
            }
        </section>
    </div>
}